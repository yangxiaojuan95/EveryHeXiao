{"version":3,"sources":["webpack:///D:/git仓库/EveryHeXiao/write-off-h5/uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.vue?039e","webpack:///D:/git仓库/EveryHeXiao/write-off-h5/uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.vue?8c7c","webpack:///D:/git仓库/EveryHeXiao/write-off-h5/uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.vue?c169","webpack:///D:/git仓库/EveryHeXiao/write-off-h5/uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.vue?3786","uni-app:///uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.vue","webpack:///D:/git仓库/EveryHeXiao/write-off-h5/uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.vue?2246","webpack:///D:/git仓库/EveryHeXiao/write-off-h5/uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.vue?5bf6"],"names":["props","continue","type","default","exact","size","definition","data","windowWidth","windowHeight","video","canvas2d","canvas2d2","canvasWidth","canvasHeight","maskWidth","maskHeight","inter","track","isUseTorch","trackStatus","isParse","isUse","mounted","destroyed","methods","openScan","audio","facingMode","width","height","navigator","getUserMedia","then","canvas","canvasBox","canvas2","setTimeout","catch","closeCamera","tick","inversionAttempts","requestAnimationFrame","drawLine","getData","openTrack","advanced","torch","createMsk","transtion","nutranstion"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuI;AACvI;AACkE;AACL;AACqC;;;AAGlG;AAC0N;AAC1N,gBAAgB,gOAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,qGAAM;AACR,EAAE,8GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAi3B,CAAgB,u3BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACuDr4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;AAAA,eAGA;EACAA;IACAC;MACAC;MACAC;IACA;;IACAC;MACAF;MACAC;IACA;;IACAE;MACAH;MACAC;IACA;;IACAG;MACAJ;MACAC;IACA;EACA;EACAI;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MAEAC;MACAC;IACA;EACA;EACAC;IAAA;IACA;IAEA;IACA;IACA;IACA;IAEA;MACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;MACA;QACAC;QACAjB;UACAkB;YAAAxB;UAAA;UACAyB;UACAC;QACA;MACA;MACAC,uBACAC,yBACAC;QACA;QACA;QACA;QAEA;QACAC;QACAA;QACAA;QACAA;QACA;QACA;;QAEA;QACA;QACAC;QACAA;QACAA;;QAEA;QACA;QACAC;QACAA;QACAA;QACAA;QACA;QACAD;QAEA;QACA;QACA;QACA;QAEA;QACAE;UACA;QACA;MACA,GACAC;QACA;QACA;MACA;IACA;IAEAC;MACA;MACA;QACA;UACArB;QACA;MACA;IACA;IAEAsB;MACA;MACA;QACA,wBACA,YACA,gCACA,iCACA,qBACA,qBACA,GACA,GACA,kCACA,kCACA;QAEA,2CACA,GACA,GACA,kCACA,kCACA;QAEA;UACAC;QACA;QAEA;QACA;UACA;UACA;UACA;UACA;UACA;YACA;UACA;QACA;MACA;MACAC;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEAC;MACA;MACA;QACA;MACA;IACA;IAEAC;MACA;MACA;QACAC;UAAAC;QAAA;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MACA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;AC9PA;AAAA;AAAA;AAAA;AAAqwC,CAAgB,0uCAAG,EAAC,C;;;;;;;;;;;ACAzxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./mumu-getQrcode.vue?vue&type=template&id=00df9d29&scoped=true&\"\nvar renderjs\nimport script from \"./mumu-getQrcode.vue?vue&type=script&lang=js&\"\nexport * from \"./mumu-getQrcode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mumu-getQrcode.vue?vue&type=style&index=0&id=00df9d29&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"00df9d29\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/mumu-getQrcode/components/mumu-getQrcode/mumu-getQrcode.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mumu-getQrcode.vue?vue&type=template&id=00df9d29&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mumu-getQrcode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mumu-getQrcode.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"canvasBox\">\r\n\t\t<template v-if=\"isUse\">\r\n\t\t\t<view class=\"box\">\r\n\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t<view class=\"angle\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"box2\" v-if=\"isUseTorch\">\r\n\t\t\t\t<view class=\"track\" @click=\"openTrack\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\tt=\"1653920715959\"\r\n\t\t\t\t\t\tclass=\"icon\"\r\n\t\t\t\t\t\tviewBox=\"0 0 1024 1024\"\r\n\t\t\t\t\t\tversion=\"1.1\"\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tp-id=\"1351\"\r\n\t\t\t\t\t\twidth=\"32\"\r\n\t\t\t\t\t\theight=\"32\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\td=\"M651.353043 550.479503H378.752795L240.862609 364.315031c-3.688944-4.897391-5.660621-10.876025-5.660621-17.045466v-60.040745c0-15.773416 12.847702-28.621118 28.621118-28.621118h502.459627c15.773416 0 28.621118 12.847702 28.621118 28.621118v59.977143c0 6.105839-1.971677 12.084472-5.660621 17.045466l-137.890187 186.228074zM378.752795 598.308571v398.024348c0 15.328199 12.402484 27.667081 27.667081 27.667081h217.266087c15.328199 0 27.667081-12.402484 27.66708-27.667081V598.308571H378.752795z m136.300124 176.942112c-14.564969 0-26.331429-11.76646-26.331428-26.331428v-81.283975c0-14.564969 11.76646-26.331429 26.331428-26.331429 14.564969 0 26.331429 11.76646 26.331429 26.331429v81.283975c0 14.564969-11.76646 26.331429-26.331429 26.331428zM512 222.608696c-17.554286 0-31.801242-14.246957-31.801242-31.801243V31.801242c0-17.554286 14.246957-31.801242 31.801242-31.801242s31.801242 14.246957 31.801242 31.801242v159.006211c0 17.554286-14.246957 31.801242-31.801242 31.801243zM280.932174 205.881242c-9.47677 0-18.889938-4.197764-25.122981-12.275279L158.242981 67.991056a31.864845 31.864845 0 0 1 5.597019-44.648944 31.864845 31.864845 0 0 1 44.648944 5.597018l97.502609 125.551305a31.864845 31.864845 0 0 1-5.597019 44.648944c-5.787826 4.579379-12.656894 6.741863-19.46236 6.741863zM723.987081 205.881242c-6.805466 0-13.674534-2.162484-19.462361-6.678261a31.794882 31.794882 0 0 1-5.597018-44.648944l97.566211-125.551304a31.794882 31.794882 0 0 1 44.648944-5.597019 31.794882 31.794882 0 0 1 5.597019 44.648944l-97.566211 125.551305c-6.360248 8.077516-15.709814 12.27528-25.186584 12.275279z\"\r\n\t\t\t\t\t\t\tfill=\"#ffffff\"\r\n\t\t\t\t\t\t\tp-id=\"1352\"\r\n\t\t\t\t\t\t></path>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t\t{{ trackStatus ? '关闭闪光灯' : '打开闪光灯' }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"mask1 mask\" :style=\"'height:' + maskHeight + 'px;'\"></view>\r\n\t\t\t<view\r\n\t\t\t\tclass=\"mask2 mask\"\r\n\t\t\t\t:style=\"'width:' + maskWidth + 'px;top:' + maskHeight + 'px;height:' + canvasHeight + 'px'\"\r\n\t\t\t></view>\r\n\t\t\t<view class=\"mask3 mask\" :style=\"'height:' + maskHeight + 'px;'\"></view>\r\n\t\t\t<view\r\n\t\t\t\tclass=\"mask4 mask\"\r\n\t\t\t\t:style=\"'width:' + maskWidth + 'px;top:' + maskHeight + 'px;height:' + canvasHeight + 'px'\"\r\n\t\t\t></view>\r\n\t\t</template>\r\n\t\t<template v-else>\r\n\t\t\t<slot name=\"error\">\r\n\t\t\t\t<view class=\"error\">\r\n\t\t\t\t\t<view class=\"on1\">相机权限被拒绝，请尝试如下操作：</view>\r\n\t\t\t\t\t<view>· 刷新页面后重试；</view>\r\n\t\t\t\t\t<view>· 在系统中检测当前App或浏览器的相机权限是否被禁用；</view>\r\n\t\t\t\t\t<view>· 如果依然不能体验，建议在微信中打开链接；</view>\r\n\t\t\t\t</view>\r\n\t\t\t</slot>\r\n\t\t</template>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n// import jsQR from './jsQR.js'\r\nimport jsQR from \"jsqr\"\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tcontinue: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false // false 监听一次   true 持续监听\r\n\t\t},\r\n\t\texact: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'environment' // environment 后摄像头  user 前摄像头\r\n\t\t},\r\n\t\tsize: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'whole' // whole 全屏  balf 半屏\r\n\t\t},\r\n\t\tdefinition: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false // fasle 正常  true 高清\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\twindowWidth: 0,\r\n\t\t\twindowHeight: 0,\r\n\t\t\tvideo: null,\r\n\t\t\tcanvas2d: null,\r\n\t\t\tcanvas2d2: null,\r\n\t\t\tcanvasWidth: 200,\r\n\t\t\tcanvasHeight: 200,\r\n\t\t\tmaskWidth: 0,\r\n\t\t\tmaskHeight: 0,\r\n\t\t\tinter: 0,\r\n\r\n\t\t\ttrack: null,\r\n\t\t\tisUseTorch: false,\r\n\t\t\ttrackStatus: false,\r\n\r\n\t\t\tisParse: false,\r\n\t\t\tisUse: true\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tif (origin.indexOf('https') === -1) throw '请在 https 环境中使用摄像头组件。'\r\n\r\n\t\tthis.windowWidth = document.documentElement.clientWidth || document.body.clientWidth\r\n\t\tthis.windowHeight = document.documentElement.clientHeight || document.body.clientHeight\r\n\t\tthis.windowHeight = this.size === 'whole' ? this.windowHeight : this.windowHeight / 2\r\n\t\tthis.isParse = true\r\n\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.createMsk()\r\n\t\t\tthis.openScan()\r\n\t\t})\r\n\t},\r\n\tdestroyed() {\r\n\t\tthis.closeCamera()\r\n\t},\r\n\tmethods: {\r\n\t\topenScan() {\r\n\t\t\tconst width = this.transtion(this.windowHeight)\r\n\t\t\tconst height = this.transtion(this.windowWidth)\r\n\t\t\tconst videoParam = {\r\n\t\t\t\taudio: false,\r\n\t\t\t\tvideo: {\r\n\t\t\t\t\tfacingMode: { exact: this.exact },\r\n\t\t\t\t\twidth,\r\n\t\t\t\t\theight\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnavigator.mediaDevices\r\n\t\t\t\t.getUserMedia(videoParam)\r\n\t\t\t\t.then(stream => {\r\n\t\t\t\t\tthis.video = document.createElement('video')\r\n\t\t\t\t\tthis.video.width = this.windowWidth\r\n\t\t\t\t\tthis.video.height = this.windowHeight\r\n\r\n\t\t\t\t\tconst canvas = document.createElement('canvas')\r\n\t\t\t\t\tcanvas.id = 'canvas'\r\n\t\t\t\t\tcanvas.width = this.transtion(this.canvasWidth)\r\n\t\t\t\t\tcanvas.height = this.transtion(this.canvasHeight)\r\n\t\t\t\t\tcanvas.style = 'display:none;'\r\n\t\t\t\t\t//canvas.style = 'position: fixed;top: 0;z-index: 999;left:0'\r\n\t\t\t\t\tthis.canvas2d = canvas.getContext('2d')\r\n\r\n\t\t\t\t\t// 设置当前宽高 满屏\r\n\t\t\t\t\tconst canvasBox = document.querySelector('.canvasBox')\r\n\t\t\t\t\tcanvasBox.append(this.video)\r\n\t\t\t\t\tcanvasBox.append(canvas)\r\n\t\t\t\t\tcanvasBox.style = `width:${this.windowWidth}px;height:${this.windowHeight}px;`\r\n\r\n\t\t\t\t\t// 创建第二个canvas\r\n\t\t\t\t\tconst canvas2 = document.createElement('canvas')\r\n\t\t\t\t\tcanvas2.id = 'canvas2'\r\n\t\t\t\t\tcanvas2.width = this.canvasWidth\r\n\t\t\t\t\tcanvas2.height = this.canvasHeight\r\n\t\t\t\t\tcanvas2.style = 'position: absolute;top: 50%;left: 50%;z-index: 20;transform: translate(-50%, -50%);'\r\n\t\t\t\t\tthis.canvas2d2 = canvas2.getContext('2d')\r\n\t\t\t\t\tcanvasBox.append(canvas2)\r\n\r\n\t\t\t\t\tthis.video.srcObject = stream\r\n\t\t\t\t\tthis.video.setAttribute('playsinline', true)\r\n\t\t\t\t\tthis.video.play()\r\n\t\t\t\t\tthis.tick()\r\n\r\n\t\t\t\t\tthis.track = stream.getVideoTracks()[0]\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.isUseTorch = this.track.getCapabilities().torch || null\r\n\t\t\t\t\t}, 500)\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.isUse = false\r\n\t\t\t\t\tthis.$emit('error', err)\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tcloseCamera() {\r\n\t\t\tthis.isParse = false\r\n\t\t\tif (this.video && this.video.srcObject) {\r\n\t\t\t\tthis.video.srcObject.getTracks().forEach(track => {\r\n\t\t\t\t\ttrack.stop()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttick() {\r\n\t\t\tif (!this.isParse) return\r\n\t\t\tif (this.video.readyState === this.video.HAVE_ENOUGH_DATA) {\r\n\t\t\t\tthis.canvas2d.drawImage(\r\n\t\t\t\t\tthis.video,\r\n\t\t\t\t\tthis.transtion(this.maskWidth),\r\n\t\t\t\t\tthis.transtion(this.maskHeight),\r\n\t\t\t\t\tthis.transtion(200),\r\n\t\t\t\t\tthis.transtion(200),\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tthis.transtion(this.canvasWidth),\r\n\t\t\t\t\tthis.transtion(this.canvasHeight)\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst imageData = this.canvas2d.getImageData(\r\n\t\t\t\t\t0,\r\n\t\t\t\t\t0,\r\n\t\t\t\t\tthis.transtion(this.canvasWidth),\r\n\t\t\t\t\tthis.transtion(this.canvasHeight)\r\n\t\t\t\t)\r\n\r\n\t\t\t\tconst code = jsQR(imageData.data, imageData.width, imageData.height, {\r\n\t\t\t\t\tinversionAttempts: 'dontInvert'\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.canvas2d2.clearRect(0, 0, this.canvasWidth, this.canvasHeight)\r\n\t\t\t\tif (code) {\r\n\t\t\t\t\tthis.drawLine(code.location.topLeftCorner, code.location.topRightCorner)\r\n\t\t\t\t\tthis.drawLine(code.location.topRightCorner, code.location.bottomRightCorner)\r\n\t\t\t\t\tthis.drawLine(code.location.bottomRightCorner, code.location.bottomLeftCorner)\r\n\t\t\t\t\tthis.drawLine(code.location.bottomLeftCorner, code.location.topLeftCorner)\r\n\t\t\t\t\tif (code.data) {\r\n\t\t\t\t\t\tthis.getData(code.data)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\trequestAnimationFrame(this.tick)\r\n\t\t},\r\n\t\tdrawLine(begin, end, color = '#FF3B58') {\r\n\t\t\tthis.canvas2d2.beginPath()\r\n\t\t\tthis.canvas2d2.moveTo(this.nutranstion(begin.x), this.nutranstion(begin.y))\r\n\t\t\tthis.canvas2d2.lineTo(this.nutranstion(end.x), this.nutranstion(end.y))\r\n\t\t\tthis.canvas2d2.lineWidth = 4\r\n\t\t\tthis.canvas2d2.strokeStyle = color\r\n\t\t\tthis.canvas2d2.stroke()\r\n\t\t},\r\n\r\n\t\tgetData(data) {\r\n\t\t\tthis.$emit('success', data)\r\n\t\t\tif (!this.continue) {\r\n\t\t\t\tthis.closeCamera()\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topenTrack() {\r\n\t\t\tthis.trackStatus = !this.trackStatus\r\n\t\t\tthis.track.applyConstraints({\r\n\t\t\t\tadvanced: [{ torch: this.trackStatus }]\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\tcreateMsk() {\r\n\t\t\tthis.maskWidth = this.windowWidth / 2 - this.canvasWidth / 2\r\n\t\t\tthis.maskHeight = this.windowHeight / 2 - this.canvasHeight / 2\r\n\t\t},\r\n\r\n\t\ttranstion(number) {\r\n\t\t\treturn this.definition ? number * 2.8 : number * 1.8\r\n\t\t},\r\n\t\tnutranstion(number) {\r\n\t\t\treturn this.definition ? number / 2.8 : number / 1.8\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\npage {\r\n\tbackground-color: #333333;\r\n}\r\n\r\n.canvasBox {\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tposition: relative;\r\n\r\n\tbackground-image: linear-gradient(\r\n\t\t\t0deg,\r\n\t\t\ttransparent 24%,\r\n\t\t\trgba(32, 255, 77, 0.1) 25%,\r\n\t\t\trgba(32, 255, 77, 0.1) 26%,\r\n\t\t\ttransparent 27%,\r\n\t\t\ttransparent 74%,\r\n\t\t\trgba(32, 255, 77, 0.1) 75%,\r\n\t\t\trgba(32, 255, 77, 0.1) 76%,\r\n\t\t\ttransparent 77%,\r\n\t\t\ttransparent\r\n\t\t),\r\n\t\tlinear-gradient(\r\n\t\t\t90deg,\r\n\t\t\ttransparent 24%,\r\n\t\t\trgba(32, 255, 77, 0.1) 25%,\r\n\t\t\trgba(32, 255, 77, 0.1) 26%,\r\n\t\t\ttransparent 27%,\r\n\t\t\ttransparent 74%,\r\n\t\t\trgba(32, 255, 77, 0.1) 75%,\r\n\t\t\trgba(32, 255, 77, 0.1) 76%,\r\n\t\t\ttransparent 77%,\r\n\t\t\ttransparent\r\n\t\t);\r\n\tbackground-size: 3rem 3rem;\r\n\tbackground-position: -1rem -1rem;\r\n\tz-index: 10;\r\n\tbackground-color: #1110;\r\n}\r\n\r\n.box {\r\n\twidth: 200px;\r\n\theight: 200px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\toverflow: hidden;\r\n\tborder: 0.1rem solid rgba(0, 255, 51, 0.2);\r\n\tz-index: 11;\r\n}\r\n\r\n.line {\r\n\theight: calc(100% - 2px);\r\n\twidth: 100%;\r\n\tbackground: linear-gradient(180deg, rgba(0, 255, 51, 0) 43%, #00ff33 211%);\r\n\tborder-bottom: 3px solid #00ff33;\r\n\ttransform: translateY(-100%);\r\n\tanimation: radar-beam 2s infinite alternate;\r\n\tanimation-timing-function: cubic-bezier(0.53, 0, 0.43, 0.99);\r\n\tanimation-delay: 1.4s;\r\n}\r\n\r\n.box:after,\r\n.box:before,\r\n.angle:after,\r\n.angle:before {\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\twidth: 3vw;\r\n\theight: 3vw;\r\n\tz-index: 12;\r\n\tborder: 0.2rem solid transparent;\r\n}\r\n\r\n.box:after,\r\n.box:before {\r\n\ttop: 0;\r\n\tborder-top-color: #00ff33;\r\n}\r\n\r\n.angle:after,\r\n.angle:before {\r\n\tbottom: 0;\r\n\tborder-bottom-color: #00ff33;\r\n}\r\n\r\n.box:before,\r\n.angle:before {\r\n\tleft: 0;\r\n\tborder-left-color: #00ff33;\r\n}\r\n\r\n.box:after,\r\n.angle:after {\r\n\tright: 0;\r\n\tborder-right-color: #00ff33;\r\n}\r\n\r\n@keyframes radar-beam {\r\n\t0% {\r\n\t\ttransform: translateY(-100%);\r\n\t}\r\n\r\n\t100% {\r\n\t\ttransform: translateY(0);\r\n\t}\r\n}\r\n\r\n.msg {\r\n\ttext-align: center;\r\n\tpadding: 20rpx 0;\r\n}\r\n\r\n.box2 {\r\n\twidth: 300px;\r\n\theight: 200px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\tz-index: 20;\r\n}\r\n\r\n.track {\r\n\tposition: absolute;\r\n\tbottom: -100px;\r\n\tleft: 50%;\r\n\ttransform: translateX(-50%);\r\n\tz-index: 20;\r\n\tcolor: #fff;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\talign-items: center;\r\n}\r\n\r\n.mask {\r\n\tposition: absolute;\r\n\tz-index: 10;\r\n\tbackground-color: rgba(0, 0, 0, 0.55);\r\n}\r\n\r\n.mask1 {\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tright: 0;\r\n}\r\n\r\n.mask2 {\r\n\tright: 0;\r\n}\r\n\r\n.mask3 {\r\n\tright: 0;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n}\r\n\r\n.mask4 {\r\n\tleft: 0;\r\n}\r\n\r\n.error {\r\n\tcolor: #fff;\r\n\tpadding: 40rpx;\r\n\tfont-size: 24rpx;\r\n\tbackground-color: #333333;\r\n\tposition: fixed;\r\n\ttop: 50%;\r\n\tleft: 50%;\r\n\ttransform: translate(-50%, -50%);\r\n\twidth: 550rpx;\r\n\tborder-radius: 20rpx;\r\n}\r\n\r\n.error .on1 {\r\n\tfont-size: 30rpx;\r\n}\r\n</style>\n","import mod from \"-!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mumu-getQrcode.vue?vue&type=style&index=0&id=00df9d29&scoped=true&lang=css&\"; export default mod; export * from \"-!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\juzhen\\\\Downloads\\\\HBuilderX.3.4.18.20220630\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mumu-getQrcode.vue?vue&type=style&index=0&id=00df9d29&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1686709357325\n      var cssReload = require(\"C:/Users/juzhen/Downloads/HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}